<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Analyzing BBS data from the wildlifeR package • wildlifeR</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">wildlifeR</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/ANOVA_deer_antlers.html">Intro to 1-way ANOVA: impacts of diet on deer antlers</a>
    </li>
    <li>
      <a href="../articles/data_cleaning_dplyr_filter.html">Data Cleaning: Filtering focal rows with dplyr</a>
    </li>
    <li>
      <a href="../articles/Inference_by_eye.html">Inference-by-eye using RA Fisher's Cat Data</a>
    </li>
    <li>
      <a href="../articles/merge_BBS_with_landcover.html">Data cleaning: Merging 2 large data sets with dplyr</a>
    </li>
    <li>
      <a href="../articles/reporting_paired_t_test_results.html">Running &amp; reporting paired t-tests in R</a>
    </li>
    <li>
      <a href="../articles/reporting_t_test_results.html">Reporting statistical result from a 2-sample t-test</a>
    </li>
    <li>
      <a href="../articles/the_wildlifeR_package.html">Analyzing BBS data from the wildlifeR package</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Analyzing BBS data from the wildlifeR package</h1>
                        <h4 class="author">Nathan Brouwer <a href="mailto:brouwern@gmail.com">brouwern@gmail.com</a> <span class="citation">@lobrowR</span>
</h4>
            
            <h4 class="date">2017-11-20</h4>
          </div>

    
    
<div class="contents">
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p>The <strong>wildlifeR</strong> package contains data and code for analyzing a number of datasets related to wildlife ecology, animal conservation, and evolution. The focal dataset is currently the USGS Breeding Bird Survey Data for the entire state of Pennsylvania. Other datasets include data from the USGS woodcock survey, Pika distribution data from citsci.org, avian life history data, and the nutritional composition dozens of species of mammals. wildlifeR is being developed to allow students freedom to explore interesting, real-world datasets and generate their own focal questions.</p>
</div>
<div id="using-the-wildlifer-package" class="section level2">
<h2 class="hasAnchor">
<a href="#using-the-wildlifer-package" class="anchor"></a>Using the wildlifeR package</h2>
<p>The first step to using wildlifeR is to select a dataset. Currently the USGS BBS data is the most developed; what follows is a step by step exploration the BBS data and the kinds of questions that can easily be explored using the data, pre-programmed R functions in wildlifeR, and tutorials (“vignettes”) included in the package.</p>
<div id="installing-widlifer" class="section level3">
<h3 class="hasAnchor">
<a href="#installing-widlifer" class="anchor"></a>Installing widlifeR</h3>
<p>wildlifeR can be downloaded from the website github.com using the following code using the devtools package. Note that devtools must be installed from the website cran.corm before <strong>widlifeR</strong> can installed. Also, wildlife relies on the ggplot2, ggpubr, and dplyr packages which all must be downloaded for it to work.</p>
<p>The current version of wildlifeR can be downloaded like this:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#load devtools</span>
<span class="kw">library</span>(devtools)

<span class="co">#download wildlifeR from github</span>
<span class="kw">install_github</span>(<span class="st">"brouwern/wildlifeR"</span>)

<span class="co">#load wildlifeR into your current R sessions</span>
<span class="kw">library</span>(wildlifeR)</code></pre></div>
</div>
<div id="the-usgs-bbs-data" class="section level3">
<h3 class="hasAnchor">
<a href="#the-usgs-bbs-data" class="anchor"></a>The USGS BBS data</h3>
<p>The focal dataset in wildlifeR is all USGS BBS data from PA from the 1960s to the present The data are loaded using data(BBS_PA). Additional information about the data, such as what is contained in each column, can be obtained from help via: ?BBS_PA.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(BBS_PA)</code></pre></div>
<p>BBS_PA is a massive dataset of almost 1/4 millions rows.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">dim</span>(BBS_PA)</code></pre></div>
<pre><code>## [1] 244185      8</code></pre>
</div>
<div id="selecting-a-focal-bird-species" class="section level3">
<h3 class="hasAnchor">
<a href="#selecting-a-focal-bird-species" class="anchor"></a>Selecting a focal bird species</h3>
<p>A good place to start with the <strong>widlifeR</strong> package is to select a focal bird species to study. This is done by first identifying the alphabetic and/or numeric code used by the American Ornithological Union (AOU) to identify the bird.</p>
<p>For BBS data songbird species will work best; raptors, ducks, waterfowl etc not so much because they are much more rarely observed. There is sufficient data in the surveys on some game birds such as mourning doves, but not others such as woodcocks.</p>
<p>An excellent website for basic information on birds is the Cornell Lab of Ornithology’s <a href="https://www.allaboutbirds.org/" class="uri">https://www.allaboutbirds.org/</a>.</p>
<p>Once you have identified a species you are interested in you need to determine the four-letter code used by the AOU. Often this is the first letter or two of each word in the name. eg, the Louisiana waterthrush is LOWA, the Robin is AMRO for “American Robin”“, the Cardinal is NOCA for”Northern Cardinal.“”</p>
<p>You can get complete lists of species codes from the Institute for Bird Populations website at <a href="https://www.birdpop.org/pages/birdSpeciesCodes.php" class="uri">https://www.birdpop.org/pages/birdSpeciesCodes.php</a> . The links on the right sidebar open PDFs with all of the codes.</p>
<p>As an example we’ll look at the Pileated woodpecker. Its alphabetic code is “PIWO”.</p>
</div>
<div id="determing-the-numeric-species-code" class="section level3">
<h3 class="hasAnchor">
<a href="#determing-the-numeric-species-code" class="anchor"></a>Determing the numeric species code</h3>
<p>In their database the USGS uses AOU numeric codes, <strong>not</strong> alphabetic codes. We can look up numeric codes using the dataset AOU_species_codes included in wildlifeR.</p>
<p>First, load the AOU code data</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(AOU_species_codes)</code></pre></div>
<p>Then make sure the dplyr package is loaded</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dplyr)</code></pre></div>
<p>We can see the entry for PIWO and its numeric code in the “spp.num” code using the dplyr function filter()</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">AOU_species_codes <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(alpha.code <span class="op">==</span><span class="st"> "PIWO"</span>)</code></pre></div>
<pre><code>##   spp.num alpha.code                name                spp order
## 1    4050       PIWO Pileated Woodpecker Dryocopus pileatus   599</code></pre>
<p>A more detailed walk through of this process can be found in the vignette “Data Cleaning: Filtering focal rows with dplyr”. This vignette can most easily be accessed at the wildlifeR website <a href="https://brouwern.github.io/wildlifeR/" class="uri">https://brouwern.github.io/wildlifeR/</a> .</p>
<p>The filter() code above tells us that the the numeric code is 4050. We can use this number to extract just the Pileated woodpecker (PIWO) data from the BBS_PA dataset. We’ll save this data to an object called “BBA_PA_PIWO”. (Note that the species code is <strong>not</strong> the same row number of the dataframe).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">BBS_PA_PIWO &lt;-<span class="st"> </span>BBS_PA <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(Aou <span class="op">==</span><span class="st"> "4050"</span>)</code></pre></div>
</div>
<div id="selecting-a-focal-analysis-question" class="section level3">
<h3 class="hasAnchor">
<a href="#selecting-a-focal-analysis-question" class="anchor"></a>Selecting a focal analysis question</h3>
<p>While numerous questions can be addressed using BBS data, the supporting datasets, code and vignettes are currently designed to allow students to investigate two questions:</p>
<ol style="list-style-type: decimal">
<li>How does the abundance of a focal bird species in Pennsylvania vary with the type of habitat in the landscape.</li>
<li>How has the abundance of a bird species in PA changed over time.</li>
</ol>
<p>TO make these analyses manageable they are formatted in very different ways. For analyses using habitat variables, data from all BBS routes are merged with land-cover data from a GIS. For analyses investigating changes in abundance, that data are reformatted to isolate independent samples from each year of interest.</p>
</div>
<div id="formatting-data-for-habitat-analyses" class="section level3">
<h3 class="hasAnchor">
<a href="#formatting-data-for-habitat-analyses" class="anchor"></a>Formatting data for habitat analyses</h3>
<div id="subsetting-bird-data" class="section level4">
<h4 class="hasAnchor">
<a href="#subsetting-bird-data" class="anchor"></a>Subsetting bird data</h4>
<p>The habitat data used wildlifeR was collected in 2006. We will therefore use the filter() command again to isolate just that year of data. (Note that “Year” has a capital “Y” while the rest is lowercase).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">BBS_PA_PIWO_<span class="dv">2</span> &lt;-<span class="st"> </span>BBS_PA_PIWO <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(Year <span class="op">==</span><span class="st"> </span><span class="dv">2006</span>)</code></pre></div>
<p>There are about 90 BBS routes in Pennsylvania. The subset of data we have generate will have only those where the PIWo was observed in 2006. If PIWO was not seen on a route in 2006, it it not included in the dataset. Stated another way, if a bird was not seen on a route in a given year, there is no data for that route. Therefore, there are no observations of zero in the dataset. These data are therefore not appropriate for analysis as-is. This zeros, however, will get interested below.</p>
</div>
<div id="preparing-habitat-data" class="section level4">
<h4 class="hasAnchor">
<a href="#preparing-habitat-data" class="anchor"></a>Preparing habitat data</h4>
<p>The habitat data are found in the dataframe BBS_PA_landcover_1km. For each BBS route the number of pixels of different habitat was determined using a GIS. These data are from the National Land Cover Dataset (NCLD) and each column is a different type of cover.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(BBS_PA_landcover_1km)</code></pre></div>
<p>For cover classes are numbers 41 (deciduous), 42 (evergreen) and 43 (mixed). The select() function in dplyr can be used to isolate these focal columns. We’ll isolate just them and the Route number in a new dataframe called BBS_PA_landcover_1km_2.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">BBS_PA_landcover_1km_<span class="dv">2</span> &lt;-<span class="st"> </span>BBS_PA_landcover_1km <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/select.html">select</a></span>(Route, NLCD.<span class="dv">41</span>, NLCD.<span class="dv">42</span>, NLCD.<span class="dv">43</span>, SUM)</code></pre></div>
</div>
<div id="calculating-percentages-of-habitat" class="section level4">
<h4 class="hasAnchor">
<a href="#calculating-percentages-of-habitat" class="anchor"></a>Calculating percentages of habitat</h4>
<p>The raw habitat data are actual counts of the number of pixels classified as a given habitat by a GIS. The number of pixels varies a little bit between routes, so to make everything comparable we need to calculate the percentage of each forest cover. This can be done by dividing each habitat class by the SUM column</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">BBS_PA_landcover_1km_<span class="dv">2</span><span class="op">$</span>decid.percent &lt;-<span class="st"> </span>BBS_PA_landcover_1km_<span class="dv">2</span><span class="op">$</span>NLCD.<span class="dv">41</span><span class="op">/</span>BBS_PA_landcover_1km_<span class="dv">2</span><span class="op">$</span>SUM

BBS_PA_landcover_1km_<span class="dv">2</span><span class="op">$</span>conifer.percent &lt;-<span class="st"> </span>BBS_PA_landcover_1km_<span class="dv">2</span><span class="op">$</span>NLCD.<span class="dv">42</span><span class="op">/</span>BBS_PA_landcover_1km_<span class="dv">2</span><span class="op">$</span>SUM

BBS_PA_landcover_1km_<span class="dv">2</span><span class="op">$</span>mixed.forest.percent &lt;-<span class="st"> </span>BBS_PA_landcover_1km_<span class="dv">2</span><span class="op">$</span>NLCD.<span class="dv">42</span><span class="op">/</span>BBS_PA_landcover_1km_<span class="dv">2</span><span class="op">$</span>SUM</code></pre></div>
</div>
<div id="merging-bird-counts-and-habitat-cover" class="section level4">
<h4 class="hasAnchor">
<a href="#merging-bird-counts-and-habitat-cover" class="anchor"></a>Merging bird counts and habitat cover</h4>
<p>Now we need to line up the data on the number of PIWO observed on each route in our BBA_PA_PIWO_2 dataframe with the habitat data in BBS_PA_landcover_1km_2. This can be done using the full_join() function in dplyr. This joins the two dataframes together.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">BBS_PA_PIWO_<span class="dv">3</span> &lt;-<span class="st"> </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/join.html">full_join</a></span>(BBS_PA_PIWO_<span class="dv">2</span> ,
                       BBS_PA_landcover_1km_<span class="dv">2</span>, 
                       <span class="dt">by =</span> <span class="st">"Route"</span>)</code></pre></div>
<p>The habitat data in BBS_PA_landcover_1km_2 contains data from each route in PA, but PIWO wasn’t seen on every route. To line things up dplyr has inserted NA value where data were missing from BBA_PA_PIWO_2. We can get rid of these NAs like this</p>
<p>First, make all the “years” equal to 2006, all the Aou codes equal to 6080, and assign an alphabetic species code for each reference</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">BBS_PA_PIWO_<span class="dv">3</span><span class="op">$</span>Year &lt;-<span class="st"> </span><span class="dv">2006</span>
BBS_PA_PIWO_<span class="dv">3</span><span class="op">$</span>Aou &lt;-<span class="st"> </span><span class="dv">6080</span>
BBS_PA_PIWO_<span class="dv">3</span><span class="op">$</span>name &lt;-<span class="st"> "PIWO"</span></code></pre></div>
<p>There are NA values in the “StopTotal” column, which has our counts of the number of birds. We want these to be zero. We can fix this, using the function NA_to_zero()</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">BBS_PA_PIWO_<span class="dv">4</span> &lt;-<span class="st"> </span><span class="kw"><a href="../reference/NA_to_zero.html">NA_to_zero</a></span>(<span class="dt">dat =</span> BBS_PA_PIWO_<span class="dv">3</span>,
           <span class="dt">column =</span> <span class="st">"SpeciesTotal"</span>)</code></pre></div>
<p>If you compare the dataset BBS_PA_SCTA_3 to BBS_PA_SCTA_4 that was made with set_NA_SpeciesTotal_to_zero() you can see that the NAs were removed</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#with NAs</span>
<span class="kw">summary</span>(BBS_PA_PIWO_<span class="dv">3</span><span class="op">$</span>SpeciesTotal)</code></pre></div>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
##   1.000   1.000   1.000   1.827   2.250   4.000      85</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#with NAs removed by set_NA_SpeciesTotal_to_zero()</span>
<span class="kw">summary</span>(BBS_PA_PIWO_<span class="dv">4</span><span class="op">$</span>SpeciesTotal)</code></pre></div>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##  0.0000  0.0000  0.0000  0.6934  1.0000  4.0000</code></pre>
<p>The data are now read for analysis. To save the data for future use use the write.csv() command.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">write.csv</span>(BBS_PA_PIWO_<span class="dv">4</span>, <span class="dt">file =</span> <span class="st">"PIWO_vs_forest_cover.csv"</span>)</code></pre></div>
</div>
</div>
<div id="formatting-data-for-analysis-of-change-over-time" class="section level3">
<h3 class="hasAnchor">
<a href="#formatting-data-for-analysis-of-change-over-time" class="anchor"></a>Formatting data for analysis of change over time</h3>
<p>There are numerous ways to analyze change over time. However, the most typical ways require fairly advanced stats. This is because when something is monitored repeatedly over time it violates assumptions about random sampling that are central to standard statistical methods.</p>
<p>In order to allow this type of analysis to be done with fairly simple stats, the wildlifeR has a function sample_BBS_routes() which randomly allocates each available BBS route to a different year. Each route is only used once and therefore each datapoint is independent of all the others. (Though this does not solve the issue that BBS routes are themselves not randomly selected from the landscape).</p>
<p>To begin, select several years over which to investigate change in bird abundance. Recent years such as 2000, 2005 and 2010 work well.</p>
<p>Note that sample_BBS_routes() requires the package Hmisc to work.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(Hmisc)

PIWO_00_05_<span class="dv">10</span> &lt;-<span class="st"> </span><span class="kw"><a href="../reference/sample_BBS_routes.html">sample_BBS_routes</a></span>(<span class="dt">dat =</span> BBS_PA_PIWO,
                  <span class="dt">years =</span> <span class="kw">c</span>(<span class="dv">2000</span>,<span class="dv">2005</span>,<span class="dv">2010</span>),
                  <span class="dt">aou.code =</span> <span class="dv">4050</span>)</code></pre></div>
<pre><code>## 40 40 40</code></pre>
<p>The data can be plotted to investigate change over time.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggplot2)
<span class="kw">library</span>(ggpubr)
<span class="kw">ggerrorplot</span>(<span class="dt">data =</span> PIWO_00_05_<span class="dv">10</span>,
   <span class="dt">y =</span> <span class="st">"SpeciesTotal"</span>,
   <span class="dt">x =</span> <span class="st">"Year"</span>,
   <span class="dt">desc_stat =</span> <span class="st">"mean_ci"</span>)</code></pre></div>
<p><img src="the_wildlifeR_package_files/figure-html/unnamed-chunk-18-1.png" width="672"></p>
<p>The data can be saved using write.csv()</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">write.csv</span>(PIWO_00_05_<span class="dv">10</span>, <span class="dt">file =</span> <span class="st">"PIWO_00_05_10.csv"</span>)</code></pre></div>
</div>
</div>
<div id="data-exploration" class="section level2">
<h2 class="hasAnchor">
<a href="#data-exploration" class="anchor"></a>Data Exploration</h2>
<ul>
<li>Once a dataset has been created for a focal species and question the data needs to be explored.</li>
<li>Plotting all the data allows us to get a feel for what it actually is.</li>
<li>We can also look for outliers and anything odd.</li>
</ul>
<div id="exploring-abundance-habitat-data" class="section level3">
<h3 class="hasAnchor">
<a href="#exploring-abundance-habitat-data" class="anchor"></a>Exploring abundance-habitat data</h3>
<p>Boxplots, histograms, and scatterplots can be used to explore the data</p>
<div id="boxplots" class="section level4">
<h4 class="hasAnchor">
<a href="#boxplots" class="anchor"></a>Boxplots</h4>
<p>We can make boxplots using the ggboxplot() funciton and lay themout in a grid using the plot_grid() function from the cowplot package.</p>
<p>First, make boxplots for each of our variables in our dataframe: abundance, and the three landcover variables.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## number of birds seen
plot.spp.total &lt;-<span class="st"> </span><span class="kw">ggboxplot</span>(<span class="dt">data =</span> BBS_PA_PIWO_<span class="dv">4</span>,
          <span class="dt">y =</span> <span class="st">"SpeciesTotal"</span>,
          <span class="dt">xlab =</span> <span class="st">""</span>)

## Deciduous landcover
plot.decid.percent &lt;-<span class="st"> </span><span class="kw">ggboxplot</span>(<span class="dt">data =</span> BBS_PA_PIWO_<span class="dv">4</span>,
          <span class="dt">y =</span> <span class="st">"decid.percent"</span>,
          <span class="dt">xlab =</span> <span class="st">""</span>)

## Coniferous landcover
plot.confir.percent &lt;-<span class="st"> </span><span class="kw">ggboxplot</span>(<span class="dt">data =</span> BBS_PA_PIWO_<span class="dv">4</span>,
          <span class="dt">y =</span> <span class="st">"conifer.percent"</span>,
          <span class="dt">xlab =</span> <span class="st">""</span>)

## Mixed forest landcover
plot.mixed.percent &lt;-<span class="st"> </span><span class="kw">ggboxplot</span>(<span class="dt">data =</span> BBS_PA_PIWO_<span class="dv">4</span>,
          <span class="dt">y =</span> <span class="st">"mixed.forest.percent"</span>,
          <span class="dt">xlab =</span> <span class="st">""</span>)</code></pre></div>
<p>Layout the four plots in a grid.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(cowplot)

<span class="kw">plot_grid</span>(plot.spp.total, 
          plot.decid.percent,
          plot.confir.percent, 
          plot.mixed.percent,
          <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>,
                     <span class="st">"C"</span>,<span class="st">"D"</span>))</code></pre></div>
<p><img src="the_wildlifeR_package_files/figure-html/unnamed-chunk-21-1.png" width="672"></p>
</div>
<div id="histograms" class="section level4">
<h4 class="hasAnchor">
<a href="#histograms" class="anchor"></a>Histograms</h4>
<p>First, make histograms for each of our variables in our dataframe: abundance, and the three landcover variables. Histograms will be save for each variable (we’ll re-use the names from above).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## number of birds seen
plot.spp.total &lt;-<span class="st"> </span><span class="kw">gghistogram</span>(<span class="dt">data =</span> BBS_PA_PIWO_<span class="dv">4</span>,
          <span class="dt">x =</span> <span class="st">"SpeciesTotal"</span>,
          <span class="dt">xlab =</span> <span class="st">""</span>)</code></pre></div>
<pre><code>## Warning: Using `bins = 30` by default. Pick better value with the argument
## `bins`.</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Deciduous landcover
plot.decid.percent &lt;-<span class="st"> </span><span class="kw">gghistogram</span>(<span class="dt">data =</span> BBS_PA_PIWO_<span class="dv">4</span>,
          <span class="dt">x =</span> <span class="st">"decid.percent"</span>,
          <span class="dt">xlab =</span> <span class="st">""</span>)</code></pre></div>
<pre><code>## Warning: Using `bins = 30` by default. Pick better value with the argument
## `bins`.</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Coniferous landcover
plot.confir.percent &lt;-<span class="st"> </span><span class="kw">gghistogram</span>(<span class="dt">data =</span> BBS_PA_PIWO_<span class="dv">4</span>,
          <span class="dt">x =</span> <span class="st">"conifer.percent"</span>,
          <span class="dt">xlab =</span> <span class="st">""</span>)</code></pre></div>
<pre><code>## Warning: Using `bins = 30` by default. Pick better value with the argument
## `bins`.</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Mixed forest landcover
plot.mixed.percent &lt;-<span class="st"> </span><span class="kw">gghistogram</span>(<span class="dt">data =</span> BBS_PA_PIWO_<span class="dv">4</span>,
          <span class="dt">x =</span> <span class="st">"mixed.forest.percent"</span>,
          <span class="dt">xlab =</span> <span class="st">""</span>)</code></pre></div>
<pre><code>## Warning: Using `bins = 30` by default. Pick better value with the argument
## `bins`.</code></pre>
<p>Layout the four plots in a grid.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(cowplot)

<span class="kw">plot_grid</span>(plot.spp.total, 
          plot.decid.percent,
          plot.confir.percent, 
          plot.mixed.percent,
          <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>,
                     <span class="st">"C"</span>,<span class="st">"D"</span>))</code></pre></div>
<p><img src="the_wildlifeR_package_files/figure-html/unnamed-chunk-23-1.png" width="672"></p>
</div>
<div id="scatter-plot" class="section level4">
<h4 class="hasAnchor">
<a href="#scatter-plot" class="anchor"></a>Scatter plot</h4>
<p>This data represents the relationship between the habitat variable (x axis) and the number of birds observed (y-axis). A “smoother” can be added to visualize the approximate relationship between the variables. As above, we can make multiple plots, save them to objects, and use plot_grid() to visualiz them all on the same plot.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggplot2)
<span class="kw">library</span>(ggpubr)

<span class="kw">ggscatter</span>(<span class="dt">data =</span> BBS_PA_PIWO_<span class="dv">4</span>,
          <span class="dt">y =</span> <span class="st">"SpeciesTotal"</span>,
          <span class="dt">x =</span> <span class="st">"conifer.percent"</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">se =</span> <span class="ot">FALSE</span>)</code></pre></div>
<p><img src="the_wildlifeR_package_files/figure-html/unnamed-chunk-24-1.png" width="672"></p>
</div>
</div>
<div id="exploring-abudance-time-data" class="section level3">
<h3 class="hasAnchor">
<a href="#exploring-abudance-time-data" class="anchor"></a>Exploring abudance-time data</h3>
<div id="boxplot" class="section level4">
<h4 class="hasAnchor">
<a href="#boxplot" class="anchor"></a>Boxplot</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggboxplot</span>(<span class="dt">data =</span> PIWO_00_05_<span class="dv">10</span>,
            <span class="dt">y =</span> <span class="st">"SpeciesTotal"</span>,
            <span class="dt">x =</span> <span class="st">"Year"</span>)</code></pre></div>
<p><img src="the_wildlifeR_package_files/figure-html/unnamed-chunk-25-1.png" width="672"></p>
</div>
<div id="histograms-1" class="section level4">
<h4 class="hasAnchor">
<a href="#histograms-1" class="anchor"></a>Histograms</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">gghistogram</span>(<span class="dt">data =</span> PIWO_00_05_<span class="dv">10</span>,
            <span class="dt">x =</span> <span class="st">"SpeciesTotal"</span>,
            <span class="dt">facet.by =</span> <span class="st">"Year"</span>)</code></pre></div>
<pre><code>## Warning: Using `bins = 30` by default. Pick better value with the argument
## `bins`.</code></pre>
<p><img src="the_wildlifeR_package_files/figure-html/unnamed-chunk-26-1.png" width="672"></p>
</div>
<div id="plotting-means-and-error-bars" class="section level4">
<h4 class="hasAnchor">
<a href="#plotting-means-and-error-bars" class="anchor"></a>Plotting means and error bars</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggerrorplot</span>(<span class="dt">data =</span> PIWO_00_05_<span class="dv">10</span>,
   <span class="dt">y =</span> <span class="st">"SpeciesTotal"</span>,
   <span class="dt">x =</span> <span class="st">"Year"</span>,
   <span class="dt">desc_stat =</span> <span class="st">"mean_ci"</span>)</code></pre></div>
<p><img src="the_wildlifeR_package_files/figure-html/unnamed-chunk-27-1.png" width="672"></p>
</div>
</div>
</div>
<div id="data-modeling" class="section level2">
<h2 class="hasAnchor">
<a href="#data-modeling" class="anchor"></a>Data modeling</h2>
<div id="modeling-habitat" class="section level3">
<h3 class="hasAnchor">
<a href="#modeling-habitat" class="anchor"></a>Modeling habitat</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">m.null   &lt;-<span class="st"> </span><span class="kw">lm</span>(SpeciesTotal <span class="op">~</span><span class="st"> </span><span class="dv">1</span>, BBS_PA_PIWO_<span class="dv">4</span>)

m.decid  &lt;-<span class="st"> </span><span class="kw">lm</span>(SpeciesTotal <span class="op">~</span><span class="st"> </span>decid.percent, BBS_PA_PIWO_<span class="dv">4</span>)

m.mixed  &lt;-<span class="st"> </span><span class="kw">lm</span>(SpeciesTotal <span class="op">~</span><span class="st"> </span>mixed.forest.percent, BBS_PA_PIWO_<span class="dv">4</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(broom)
<span class="kw">tidy</span>(m.null)</code></pre></div>
<pre><code>##          term  estimate  std.error statistic      p.value
## 1 (Intercept) 0.6934307 0.09527369  7.278302 2.444334e-11</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">tidy</span>(m.decid)</code></pre></div>
<pre><code>##            term    estimate std.error  statistic     p.value
## 1   (Intercept) -0.02992588 0.2404257 -0.1244703 0.901128022
## 2 decid.percent  1.58373706 0.4862621  3.2569619 0.001424234</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">tidy</span>(m.mixed)</code></pre></div>
<pre><code>##                   term   estimate std.error statistic      p.value
## 1          (Intercept)  0.1468455 0.1165419  1.260024 2.098346e-01
## 2 mixed.forest.percent 16.1218293 2.4154827  6.674372 5.888172e-10</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">anova</span>(m.null, m.decid)</code></pre></div>
<pre><code>## Analysis of Variance Table
## 
## Model 1: SpeciesTotal ~ 1
## Model 2: SpeciesTotal ~ decid.percent
##   Res.Df    RSS Df Sum of Sq      F   Pr(&gt;F)   
## 1    136 169.12                                
## 2    135 156.80  1    12.321 10.608 0.001424 **
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
<div id="modeling-variation-over-time" class="section level3">
<h3 class="hasAnchor">
<a href="#modeling-variation-over-time" class="anchor"></a>Modeling variation over time</h3>
</div>
</div>
<div id="acknowledgements" class="section level2">
<h2 class="hasAnchor">
<a href="#acknowledgements" class="anchor"></a>Acknowledgements</h2>
<p>I thank the students of Design &amp; Analysis at California University of Pennsylvania for working this code and these exercises during its development. Brian Trevalline, Brandon Hoening, and Emily Scott also tested the package and parts of the code.</p>
</div>
<div id="references" class="section level2">
<h2 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h2>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#introduction">Introduction</a></li>
      <li><a href="#using-the-wildlifer-package">Using the wildlifeR package</a></li>
      <li><a href="#data-exploration">Data Exploration</a></li>
      <li><a href="#data-modeling">Data modeling</a></li>
      <li><a href="#acknowledgements">Acknowledgements</a></li>
      <li><a href="#references">References</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Brouwer Nathan.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
